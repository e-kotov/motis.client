% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mc_stoptimes.R
\name{mc_stoptimes}
\alias{mc_stoptimes}
\title{Get the next N departures or arrivals of a stop sorted by time}
\usage{
mc_stoptimes(
  stopId = NULL,
  time = NULL,
  arriveBy = NULL,
  direction = NULL,
  mode = NULL,
  FALSE. = NULL,
  radius = NULL,
  exactRadius = NULL,
  fetchStops = NULL,
  pageCursor = NULL,
  withScheduledSkippedStops = NULL,
  language = NULL,
  withAlerts = NULL,
  .return_as = NULL,
  .json_parser = NULL,
  .headers = NULL,
  .auth = NULL,
  .throttle_rate = NULL,
  .build_only = NULL,
  .server = NULL,
  .endpoint = NULL,
  .referer = NULL,
  .req_options = NULL,
  .handle_response = NULL,
  .json_auto_unbox = NULL,
  .paginate = NULL
)
}
\arguments{
\item{stopId}{stop id of the stop to retrieve departures/arrivals for}

\item{time}{Optional. Defaults to the current time.}

\item{arriveBy}{Optional. Default is \code{false}.
\itemize{
\item \code{arriveBy=true}: the parameters \code{date} and \code{time} refer to the arrival time
\item \code{arriveBy=false}: the parameters \code{date} and \code{time} refer to the departure time
}}

\item{direction}{This parameter will be ignored in case \code{pageCursor} is set.

Optional. Default is
\itemize{
\item \code{LATER} for \code{arriveBy=false}
\item \code{EARLIER} for \code{arriveBy=true}
}

The response will contain the next \code{n} arrivals / departures
in case \code{EARLIER} is selected and the previous \code{n}
arrivals / departures if \code{LATER} is selected.

Allowed values: EARLIER, LATER.}

\item{mode}{Optional. Default is all transit modes.

Only return arrivals/departures of the given modes.

Allowed values: WALK, BIKE, RENTAL, CAR, CAR_PARKING, CAR_DROPOFF, ODM, RIDE_SHARING, FLEX, TRANSIT, TRAM, SUBWAY, FERRY, AIRPLANE, BUS, COACH, RAIL, HIGHSPEED_RAIL, LONG_DISTANCE, NIGHT_RAIL, REGIONAL_FAST_RAIL, REGIONAL_RAIL, SUBURBAN, FUNICULAR, AERIAL_LIFT, OTHER, AREAL_LIFT, METRO, CABLE_CAR.}

\item{FALSE.}{the number of events}

\item{radius}{Optional. Radius in meters.

Default is that only stop times of the parent of the stop itself
and all stops with the same name (+ their child stops) are returned.

If set, all stops at parent stations and their child stops in the specified radius
are returned.}

\item{exactRadius}{Optional. Default is \code{false}.

If set to \code{true}, only stations that are phyiscally in the radius are considered.
If set to \code{false}, additionally to the stations in the radius, equivalences with the same name and children are considered.}

\item{fetchStops}{Experimental. Expect unannounced breaking changes (without version bumps).

Optional. Default is \code{false}. If set to \code{true}, the following stops are returned
for departures and the previous stops are returned for arrivals.}

\item{pageCursor}{Use the cursor to go to the next "page" of stop times.
Copy the cursor from the last response and keep the original request as is.
This will enable you to search for stop times in the next or previous time-window.}

\item{withScheduledSkippedStops}{Optional. Include stoptimes where passengers can not alight/board according to schedule.}

\item{language}{language tags as used in OpenStreetMap / GTFS
(usually BCP-47 / ISO 639-1, or ISO 639-2 if there's no ISO 639-1)}

\item{withAlerts}{Optional. Default is \code{true}. If set to \code{false}, alerts are omitted in the metadata of place for all stopTimes.}

\item{.return_as}{A string specifying the return format. Defaults to 'list'. Options are 'list' for a parsed R list, 'raw' for the raw httr2_response object, or 'string' for the raw JSON string.}

\item{.json_parser}{A string specifying which parser to use when .return_as = 'list'. Defaults to 'RcppSimdJson' (faster) or 'jsonlite'. Beware that their output may differ slightly.}

\item{.headers}{A named list of extra HTTP headers to add to the request. If no 'Accept' header is provided anywhere, 'Accept: \emph{/}' will be sent by default.}

\item{.auth}{An authentication token or method (e.g., a bearer token string).}

\item{.throttle_rate}{A number to pass to \code{httr2::req_throttle()} to limit the rate of requests. For example, \code{15/60} means 15 requests per minute. This overrides any default rate set at client generation time.}

\item{.build_only}{A logical. If TRUE, the function will build and return the httr2_request object without performing it. Defaults to FALSE.}

\item{.server}{A string to override the base URL for this specific request. If provided, it will be used instead of the default server URL.}

\item{.endpoint}{A string to override the path for this specific request. If provided, it will be used instead of the default path from the specification. For example, use '/v2/users' to override the endpoint path.}

\item{.referer}{A string to set the Referer HTTP header.}

\item{.req_options}{A named list of curl options passed to \code{httr2::req_options()}. Useful for timeouts, proxies, SSL, etc.}

\item{.handle_response}{A function taking an \code{httr2_response} and returning a value. If supplied, it overrides \code{.return_as} / \code{.json_parser} handling. See helpers like \code{oa3_content_or_stop()}.}

\item{.json_auto_unbox}{Logical. If TRUE, JSON bodies are encoded with \code{auto_unbox = TRUE} (jsonlite). Defaults to FALSE unless overridden.}

\item{.paginate}{A logical, character string, or function to enable pagination. If TRUE (or "link_header"), uses Link headers. Other options: "page_param", "cursor_param", or a custom function. See \code{oa3_paginate()}.}
}
\description{
Get the next N departures or arrivals of a stop sorted by time
}
